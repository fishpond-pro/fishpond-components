datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider        = "prisma-client-js"
  output          = "./customPrismaClient/client"
  previewFeatures = ["fullTextSearch", "fullTextIndex"]
}

model Source {
  id Int      @id @default(autoincrement())
  channel String @unique // source url æˆ– rpa id
  lastUpdatedDate DateTime
  data  Message[]

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}

model Message {
  id Int @id @default(autoincrement())
  link String @unique
  title String?
  time DateTime?
  description String?
  type String // article/video/audio
  content Content?
  source Source @relation(fields: [sourceId], references: [id])
  sourceId Int

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}

model Content {
  id Int @id @default(autoincrement())
  title String
  description String
  content String // article content or media OSS URL
  message Message @relation(fields: [messageId], references: [id])
  messageId Int @unique

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}
