datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider        = "prisma-client-js"
  output          = "./customPrismaClient/client"
  previewFeatures = ["fullTextSearch", "fullTextIndex"]
}

model Source {
  id Int      @id @default(autoincrement())
  platform String
  link String
  content String
  version String
  data  Message[]

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}

model Message {
  id Int @id @default(autoincrement())
  title String
  time DateTime
  description String
  type String
  content Content?
  source Source @relation(fields: [sourceId], references: [id])
  sourceId Int

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}

model Content {
  id Int @id @default(autoincrement())
  title String
  time DateTime
  description String
  type String
  content String
  message Message @relation(fields: [messageId], references: [id])
  messageId Int @unique

  createdAt   DateTime @default(now())
  modifiedAt  DateTime @default(now()) @updatedAt
}
